<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="599px" preserveAspectRatio="none" style="width:848px;height:599px;background:#FFFFFF;" version="1.1" viewBox="0 0 848 599" width="848px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="587.7188" style="stroke:#181818;stroke-width:0.5;" width="497.5" x="219" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="415.75" y="18.0669">CAPIF Internal</text><rect fill="#ADD8E6" height="399.125" style="stroke:#000000;stroke-width:1.5;" width="832.5" x="10" y="98.2969"/><rect fill="#FFA500" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="373.5" x="459" y="326.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="70" x2="70" y1="81.2969" y2="514.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="261" x2="261" y1="81.2969" y2="514.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="375" x2="375" y1="81.2969" y2="514.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="525" x2="525" y1="81.2969" y2="514.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="661.5" x2="661.5" y1="81.2969" y2="514.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="794.5" x2="794.5" y1="81.2969" y2="514.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="20" y="77.9951">ProviderClient</text><ellipse cx="70.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M70.5,21.5 L70.5,48.5 M57.5,29.5 L83.5,29.5 M70.5,48.5 L57.5,63.5 M70.5,48.5 L83.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="20" y="526.417">ProviderClient</text><ellipse cx="70.5" cy="538.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M70.5,546.2188 L70.5,573.2188 M57.5,554.2188 L83.5,554.2188 M70.5,573.2188 L57.5,588.2188 M70.5,573.2188 L83.5,588.2188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="223" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="230" y="69.9951">capifcore</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="223" y="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="230" y="533.417">capifcore</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="310" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="317" y="69.9951">providermanager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="310" y="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="317" y="533.417">providermanager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="469" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="476" y="69.9951">publishservice</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="469" y="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="476" y="533.417">publishservice</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="610.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="617.5" y="69.9951">eventservice</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="610.5" y="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="617.5" y="533.417">eventservice</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="766.5" y="77.9951">invoker</text><ellipse cx="794.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M794.5,21.5 L794.5,48.5 M781.5,29.5 L807.5,29.5 M794.5,48.5 L781.5,63.5 M794.5,48.5 L807.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="766.5" y="526.417">invoker</text><ellipse cx="794.5" cy="538.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M794.5,546.2188 L794.5,573.2188 M781.5,554.2188 L807.5,554.2188 M794.5,573.2188 L781.5,588.2188 M794.5,573.2188 L807.5,588.2188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><path d="M10,98.2969 L74,98.2969 L74,105.4297 L64,115.4297 L10,115.4297 L10,98.2969 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="399.125" style="stroke:#000000;stroke-width:1.5;" width="832.5" x="10" y="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="111.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="89" y="110.5073">[Publish Service]</text><polygon fill="#181818" points="249.5,162.8281,259.5,166.8281,249.5,170.8281,253.5,166.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="70.5" x2="255.5" y1="166.8281" y2="166.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="77.5" y="131.4966">Publish services</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="81.5" y="146.6294">with providerId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="81.5" y="161.7622">andServiceAPIDescription</text><polygon fill="#181818" points="513.5,191.9609,523.5,195.9609,513.5,199.9609,517.5,195.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261.5" x2="519.5" y1="195.9609" y2="195.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="268.5" y="190.895">Publish services</text><polygon fill="#181818" points="386.5,236.2266,376.5,240.2266,386.5,244.2266,382.5,240.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="380.5" x2="524.5" y1="240.2266" y2="240.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="392.5" y="220.0278">Are AEFs registered</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="396.5" y="235.1606">for provider?</text><polygon fill="#181818" points="513.5,265.3594,523.5,269.3594,513.5,273.3594,517.5,269.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="375.5" x2="519.5" y1="269.3594" y2="269.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="382.5" y="264.2935">Ok</text><line style="stroke:#181818;stroke-width:1.0;" x1="525.5" x2="567.5" y1="298.4922" y2="298.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="567.5" x2="567.5" y1="298.4922" y2="311.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="526.5" x2="567.5" y1="311.4922" y2="311.4922"/><polygon fill="#181818" points="536.5,307.4922,526.5,311.4922,536.5,315.4922,532.5,311.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="532.5" y="293.4263">Create apiId</text><path d="M459,326.4922 L523,326.4922 L523,333.625 L513,343.625 L459,343.625 L459,326.4922 " fill="#FFA500" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="373.5" x="459" y="326.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="474" y="339.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175" x="538" y="338.7026">[Subcribed Event Handling]</text><polygon fill="#181818" points="649.5,360.7578,659.5,364.7578,649.5,368.7578,653.5,364.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="525.5" x2="655.5" y1="364.7578" y2="364.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="532.5" y="359.6919">Service published</text><polygon fill="#181818" points="782.5,389.8906,792.5,393.8906,782.5,397.8906,786.5,393.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="661.5" x2="788.5" y1="393.8906" y2="393.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="668.5" y="388.8247">CAPIFEventDetail</text><polygon fill="#181818" points="272.5,441.1563,262.5,445.1563,272.5,449.1563,268.5,445.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="266.5" x2="524.5" y1="445.1563" y2="445.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="278.5" y="424.9575">ServiceAPIDescription</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="282.5" y="440.0903">with apiId</text><polygon fill="#181818" points="81.5,485.4219,71.5,489.4219,81.5,493.4219,77.5,489.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="75.5" x2="260.5" y1="489.4219" y2="489.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="87.5" y="469.2231">ServiceAPIDescription</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="91.5" y="484.356">with apiId</text><!--MD5=[af66958e26605bdd3a3cb71e3d5736d5]
@startuml Publish a new API
actor ProviderClient
box "CAPIF Internal"
participant capifcore
participant providermanager
participant publishservice
participant eventservice
end box
actor invoker

alt#LightBlue #LightBlue Publish Service
    ProviderClient->capifcore: Publish services\n with providerId\n andServiceAPIDescription
    capifcore->publishservice: Publish services
    publishservice->providermanager: Are AEFs registered\n for provider?
    providermanager->publishservice: Ok
    publishservice->publishservice: Create apiId
    alt#Orange #Orange Subcribed Event Handling
        publishservice->eventservice: Service published
        eventservice->invoker: CAPIFEventDetail
    end
    publishservice->capifcore: ServiceAPIDescription\n with apiId
    capifcore->ProviderClient: ServiceAPIDescription\n with apiId
end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>